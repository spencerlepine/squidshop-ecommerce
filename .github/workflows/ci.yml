name: CI

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#  Continuous Integration Workflow
#  Author: @spencerlepine
#
#  Features
#    - lint, test, and build (w/ Docker)
#    - run CI for each microservice
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

on:
  push:
    branches:
      - 'main'

jobs:
  gateway_ci:
    name: "ðŸ§ª Gateway CI"
    uses: ./.github/workflows/node_ci.yml
    with:
      folder_name: gateway

  users_ci:
    name: "ðŸ§ª Users CI"
    uses: ./.github/workflows/node_ci.yml
    with:
      folder_name: users

  products_ci:
    name: "ðŸ§ª Products CI"
    uses: ./.github/workflows/node_ci.yml
    with:
      folder_name: products

  orders_ci:
    name: "ðŸ§ª Orders CI"
    uses: ./.github/workflows/node_ci.yml
    with:
      folder_name: orders

  docker_ci:
    name: "ðŸ§ª Integration Tests"
    uses: ./.github/workflows/docker_ci.yml
